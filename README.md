<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# workerpool

```go
import "workerpool"
```

## Index

- [Variables](<#variables>)
- [type Job](<#Job>)
- [type Option](<#Option>)
  - [func WithJobBufferSize\(size int\) Option](<#WithJobBufferSize>)
- [type WorkerPool](<#WorkerPool>)
  - [func NewWorkerPool\(size int, options ...Option\) \*WorkerPool](<#NewWorkerPool>)
  - [func \(w \*WorkerPool\) AddTask\(job Job\) error](<#WorkerPool.AddTask>)
  - [func \(w \*WorkerPool\) ForceShutdown\(\)](<#WorkerPool.ForceShutdown>)
  - [func \(w \*WorkerPool\) ShutdownWithTimeout\(timeout time.Duration\) error](<#WorkerPool.ShutdownWithTimeout>)
  - [func \(w \*WorkerPool\) WaitAndShutdown\(\)](<#WorkerPool.WaitAndShutdown>)


## Variables

<a name="ErrPoolClosed"></a>

```go
var (
    ErrPoolClosed = errors.New("worker pool already closed")
)
```

<a name="Job"></a>
## type [Job](<https://github.com/StanleyIsMe/worker-pool/blob/main/worker_pool.go#L16>)

Job is the type of the job that the worker pool can handle.

```go
type Job func()
```

<a name="Option"></a>
## type [Option](<https://github.com/StanleyIsMe/worker-pool/blob/main/worker_pool.go#L39>)

Option represents the optional function.

```go
type Option func(*WorkerPool)
```

<a name="WithJobBufferSize"></a>
### func [WithJobBufferSize](<https://github.com/StanleyIsMe/worker-pool/blob/main/worker_pool.go#L67>)

```go
func WithJobBufferSize(size int) Option
```

WithJobBufferSize is an option to set the buffer size of the jobs channel

<a name="WorkerPool"></a>
## type [WorkerPool](<https://github.com/StanleyIsMe/worker-pool/blob/main/worker_pool.go#L19-L36>)

WorkerPool is the worker pool that can handle the job.

```go
type WorkerPool struct {
    // contains filtered or unexported fields
}
```

<details><summary>Example</summary>
<p>

Simple example

```go
package main

import (
	"fmt"
	"workerpool"
)

func main() {
	pool := workerpool.NewWorkerPool(10)
	pool.AddTask(func() {
		fmt.Println("Hello, World!")
	})
	pool.WaitAndShutdown()

}
```

#### Output

```
Hello, World!
```

</p>
</details>

<a name="NewWorkerPool"></a>
### func [NewWorkerPool](<https://github.com/StanleyIsMe/worker-pool/blob/main/worker_pool.go#L41>)

```go
func NewWorkerPool(size int, options ...Option) *WorkerPool
```



<a name="WorkerPool.AddTask"></a>
### func \(\*WorkerPool\) [AddTask](<https://github.com/StanleyIsMe/worker-pool/blob/main/worker_pool.go#L96>)

```go
func (w *WorkerPool) AddTask(job Job) error
```

AddTask is used to add a job to the pool it returns an error if the pool is stopped

<a name="WorkerPool.ForceShutdown"></a>
### func \(\*WorkerPool\) [ForceShutdown](<https://github.com/StanleyIsMe/worker-pool/blob/main/worker_pool.go#L137>)

```go
func (w *WorkerPool) ForceShutdown()
```

ForceShutdown shuts down the worker pool immediately, it will not wait for the jobs to complete, but it will lead to the worker keep running and memory leak

<a name="WorkerPool.ShutdownWithTimeout"></a>
### func \(\*WorkerPool\) [ShutdownWithTimeout](<https://github.com/StanleyIsMe/worker-pool/blob/main/worker_pool.go#L107>)

```go
func (w *WorkerPool) ShutdownWithTimeout(timeout time.Duration) error
```

ShutdownWithTimeout shuts down the worker pool with a timeout

<a name="WorkerPool.WaitAndShutdown"></a>
### func \(\*WorkerPool\) [WaitAndShutdown](<https://github.com/StanleyIsMe/worker-pool/blob/main/worker_pool.go#L146>)

```go
func (w *WorkerPool) WaitAndShutdown()
```

WaitAndShutdown waits for all queued jobs to complete before shutting down

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
